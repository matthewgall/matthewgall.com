{{ if .Site.Params.social_sharing }}
<div class="social-share">
  <h4 class="social-share-title">Share this post</h4>
  
  <div class="social-share-buttons">
    <!-- Twitter -->
    <a href="https://twitter.com/intent/tweet?text={{ .Title | urlquery }}&url={{ .Permalink | urlquery }}{{ with .Site.Params.twitter.site }}&via={{ . }}{{ end }}" 
       target="_blank" 
       rel="noopener noreferrer" 
       class="share-button twitter"
       aria-label="Share on Twitter">
      {{ partial "social-icon.html" "twitter" }}
      <span>Twitter</span>
    </a>

    <!-- LinkedIn -->
    <a href="https://www.linkedin.com/shareArticle?mini=true&url={{ .Permalink | urlquery }}&title={{ .Title | urlquery }}" 
       target="_blank" 
       rel="noopener noreferrer" 
       class="share-button linkedin"
       aria-label="Share on LinkedIn">
      {{ partial "social-icon.html" "linkedin" }}
      <span>LinkedIn</span>
    </a>

    <!-- Copy Link -->
    <button class="share-button copy-link" 
            data-url="{{ .Permalink }}" 
            aria-label="Copy link to clipboard">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"/>
        <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"/>
      </svg>
      <span>Copy Link</span>
    </button>
  </div>
</div>

<style>
.social-share {
  margin: var(--space-12) 0;
  padding: var(--space-6);
  background-color: var(--bg-secondary);
  border: 1px solid var(--border-primary);
  border-radius: var(--radius-lg);
  text-align: center;
}

.social-share-title {
  margin-bottom: var(--space-6);
  color: var(--text-primary);
  font-size: var(--text-lg);
}

.social-share-buttons {
  display: flex;
  justify-content: center;
  gap: var(--space-4);
  flex-wrap: wrap;
}

.share-button {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-3) var(--space-4);
  background-color: var(--bg-primary);
  color: var(--text-secondary);
  border: 1px solid var(--border-primary);
  border-radius: var(--radius-md);
  text-decoration: none;
  font-weight: 500;
  transition: all var(--transition);
  cursor: pointer;
}

.share-button:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-md);
}

.share-button.twitter:hover {
  background-color: #1da1f2;
  color: white;
  border-color: #1da1f2;
}

.share-button.linkedin:hover {
  background-color: #0077b5;
  color: white;
  border-color: #0077b5;
}

.share-button.copy-link:hover {
  background-color: var(--primary);
  color: white;
  border-color: var(--primary);
}

.share-button.copied {
  background-color: var(--success);
  color: white;
  border-color: var(--success);
}

@media (max-width: 768px) {
  .social-share-buttons {
    flex-direction: column;
    align-items: center;
  }
  
  .share-button {
    justify-content: center;
    min-width: 200px;
  }
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const copyButtons = document.querySelectorAll('.copy-link');
  
  copyButtons.forEach(button => {
    button.addEventListener('click', function() {
      const url = this.dataset.url;
      
      navigator.clipboard.writeText(url).then(function() {
        button.classList.add('copied');
        const span = button.querySelector('span');
        const originalText = span.textContent;
        span.textContent = 'Copied!';
        
        setTimeout(function() {
          button.classList.remove('copied');
          span.textContent = originalText;
        }, 2000);
      }).catch(function(err) {
        console.error('Could not copy text: ', err);
      });
    });
  });
});
</script>
{{ end }}